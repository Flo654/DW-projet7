{"remainingRequest":"C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\src\\components\\getPosts.js","dependencies":[{"path":"C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\src\\components\\getPosts.js","mtime":1610852357757},{"path":"C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\flo65\\Desktop\\Openclassrooms\\PROJETS\\DW-projet7\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2ZsbzY1L0Rlc2t0b3AvT3BlbmNsYXNzcm9vbXMvUFJPSkVUUy9EVy1wcm9qZXQ3L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKCnZhciBnZXRQb3N0cyA9IGZ1bmN0aW9uIGdldFBvc3RzKCkgewogIHZhciBwb3N0cyA9IHJlZihbXSk7CiAgdmFyIGVycm9yID0gcmVmKG51bGwpOwoKICB2YXIgbG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9hcGkvbWVzc2FnZXMvJyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChkYXRhLm9rKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ25vIGRhdGEgYXZhaWxhYmxlJyk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHBvc3RzLnZhbHVlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gX2NvbnRleHQudDAubWVzc2FnZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci52YWx1ZSk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDExXV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBsb2FkKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBwb3N0czogcG9zdHMsCiAgICBlcnJvcjogZXJyb3IsCiAgICBsb2FkOiBsb2FkCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IGdldFBvc3RzOw=="},{"version":3,"sources":["C:/Users/flo65/Desktop/Openclassrooms/PROJETS/DW-projet7/frontend/src/components/getPosts.js"],"names":["ref","getPosts","posts","error","load","fetch","data","ok","Error","json","value","message","console","log"],"mappings":";;;AAAA,SAASA,GAAT,QAAoB,KAApB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAI;AACjB,MAAMC,KAAK,GAAGF,GAAG,CAAC,EAAD,CAAjB;AACA,MAAMG,KAAK,GAAGH,GAAG,CAAC,IAAD,CAAjB;;AAGA,MAAMI,IAAI;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAIOC,KAAK,CAAC,qCAAD,CAJZ;;AAAA;AAILC,cAAAA,IAJK;;AAAA,kBAKJA,IAAI,CAACC,EALD;AAAA;AAAA;AAAA;;AAAA,oBAMDC,KAAK,CAAC,mBAAD,CANJ;;AAAA;AAAA;AAAA,qBAQWF,IAAI,CAACG,IAAL,EARX;;AAAA;AAQTP,cAAAA,KAAK,CAACQ,KARG;AAAA;AAAA;;AAAA;AAAA;AAAA;AAWTP,cAAAA,KAAK,CAACO,KAAN,GAAc,YAAIC,OAAlB;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACO,KAAlB;;AAZS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAJN,IAAI;AAAA;AAAA;AAAA,KAAV;;AAgBA,SAAM;AAAEF,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,KAAK,EAALA,KAAT;AAAgBC,IAAAA,IAAI,EAAJA;AAAhB,GAAN;AACH,CAtBD;;AAwBA,eAAeH,QAAf","sourcesContent":["import { ref } from 'vue'\r\n\r\nconst getPosts = ()=>{\r\n    const posts = ref([])\r\n    const error = ref(null)\r\n    \r\n\r\n    const load = async ()=>{\r\n      try {\r\n        \r\n      \r\n        let data= await fetch('http://localhost:3030/api/messages/')\r\n        if (!data.ok)   {\r\n          throw Error('no data available')\r\n        }   \r\n        posts.value = await data.json()\r\n\r\n      } catch (err) {\r\n        error.value = err.message\r\n        console.log(error.value)\r\n        \r\n      }\r\n    }   \r\n    return{ posts, error, load}    \r\n}\r\n\r\nexport default getPosts\r\n\r\n"]}]}